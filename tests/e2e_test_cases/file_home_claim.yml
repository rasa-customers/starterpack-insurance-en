test_cases:
  - test_case: File home claim correct date
    steps:
    - user: "I want to file a claim"
      assertions:
        - flow_started: "file_a_claim"
        - action_executed: action_list_policies
    - user: "/SetSlots(policy_name=Homeowner, policy_num=9738812)"
      assertions:
        - slot_was_set:
          - name: "policy_num"
            value: "9738812"
          - name: "policy_name"
            value: "Homeowner"
        - flow_started: "home_claim"
        - bot_uttered:
            utter_name: utter_ask_claim_description
    - user: "There is a leak in my roof"
      assertions:
        - bot_uttered:
            utter_name: utter_ask_incident_date
    - user: "12/25/2024"
      assertions:
        - bot_uttered:
            utter_name: utter_ask_additional_claim_info
    - user: "Nothing else"
      assertions:
        - action_executed: action_claim_summary
        - bot_uttered:
            utter_name: utter_ask_verify_claim_details
            text_matches: Does everything look correct?
            buttons:
            - title: Yes
              payload: /SetSlots(verify_claim_details=true)
            - title: No
              payload: /SetSlots(verify_claim_details=false)
    - user: /SetSlots(verify_claim_details=true)
      assertions:
        - bot_uttered:
            utter_name: utter_ask_claim_submission
    - user: "Sure"
      assertions:
        - bot_uttered:
            utter_name: utter_claim_submitted
        - flow_completed: 
            flow_id: "home_claim"
        - flow_started: "pattern_completed"
  
  - test_case: File home claim with human handoff
    steps:
    - user: "I want to file a claim"
      assertions:
        - flow_started: "file_a_claim"
        - action_executed: action_list_policies
    - user: "/SetSlots(policy_name=Homeowner, policy_num=9738812)"
      assertions:
        - slot_was_set:
          - name: "policy_num"
            value: "9738812"
          - name: "policy_name"
            value: "Homeowner"
        - flow_started: "home_claim"
        - bot_uttered:
            utter_name: utter_ask_claim_description
    - user: "There is a leak in my roof"
      assertions:
        - bot_uttered:
            utter_name: utter_ask_incident_date
    - user: "12/25/2024"
      assertions:
        - bot_uttered:
            utter_name: utter_ask_additional_claim_info
    - user: "Nothing else"
      assertions:
        - action_executed: action_claim_summary
        - bot_uttered:
            utter_name: utter_ask_verify_claim_details
            text_matches: Does everything look correct?
            buttons:
            - title: Yes
              payload: /SetSlots(verify_claim_details=true)
            - title: No
              payload: /SetSlots(verify_claim_details=false)
    - user: "No"
      assertions:
        - flow_completed: 
            flow_id: "home_claim"
        - flow_started: "pattern_human_handoff"